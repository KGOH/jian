(ns ^:figwheel-hooks jian-ghp.core
  (:require [reagent.core :as r]
            [reagent.dom :as rd]))

(def app-state (atom {}))

(defn res-src [name] ;; Don't know how to set up paths, to work with figwheel and github pages properly
  {:src (str (:resources-path @app-state) name)})

(defn page []
  [:article.content
   [:section
    [:header
     [:h1 "–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ Jian –∏ –µ—ë —Ä–∞—Å–∫–ª–∞–¥–∫–∞"]
     [:p.l "Jian ‚Äî —Å–ø–ª–∏—Ç-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –Ω–∞ 44 –∫–ª–∞–≤–∏—à–∏. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Å–≤–æ–π —Ä–∞–∑–º–µ—Ä, –æ–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ 105 –∫–Ω–æ–ø–æ–∫ –ø–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã. –ù–∞–∂–∏–º–∞—Ç—å –∏—Ö –º–æ–∂–Ω–æ –Ω–µ –ø–µ—Ä–µ–º–µ—â–∞—è —Ä—É–∫–∏ —Å –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ä—è–¥–∞."]]
    [:p.l "–î–æ—Å—Ç—É–ø –∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º –∫–ª–∞–≤–∏—à–∞–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–ª–æ–∏ "
     [:img.icon (res-src "images/down-icon.svg")]
     " ("[:i "fn1"]") –∏ "
     [:img.icon (res-src "images/up-icon.svg")]
     " ("
     [:i "fn2"]
     "). –°–µ–π—á–∞—Å —è —Ä–∞—Å—Å–∫–∞–∂—É, –≤ —á–µ–º –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å —Ä–∞—Å–∫–ª–∞–¥–∫–∏, —Å–ª–æ–µ–≤, –∏ –∫–∞–∫ –∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è."]]
   [:div
    [:h2 "–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞—Å–∫–ª–∞–¥–∫–∏"]
    [:div.flex
     [:div
      [:p "–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ Jian –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–ª–∞—Å—å, –∫–∞–∫ –±–æ–ª–µ–µ —É–¥–æ–±–Ω—ã–π –∏ —ç—Ä–≥–æ–Ω–æ–º–∏—á–Ω—ã–π –∞–Ω–∞–ª–æ–≥ Planck, c –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–∏—Ä–∏–ª–ª–∏—Ü—ã."]
      [:p " –ö–∞–∫ –∏ –≤ Planck —É Jian –æ—Ä—Ç–æ–ª–∏–Ω–µ–π–Ω–∞—è —Ä–∞—Å–∫–ª–∞–¥–∫–∞  –±–µ–∑ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Å–¥–≤–∏–≥–∞ –∫–ª–∞–≤–∏—à. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏–ª–æ —Å–¥–µ–ª–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –º–∞–ª–µ–Ω—å–∫–æ–π –∏ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –º–∞–ª–æ–ø–æ–¥–≤–∏–∂–Ω—ã—Ö —Å—Ä–µ–¥–Ω–µ–≥–æ –∏ –±–µ–∑—ã–º—è–Ω–Ω–æ–≥–æ –ø–∞–ª—å—Ü–µ–≤."]
      [:p "–ù–æ, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç Planck, —É Jian –µ—Å—Ç—å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–¥–≤–∏–≥, –∫–æ—Ç–æ—Ä—ã–π —É—á–∏—Ç—ã–≤–∞–µ—Ç –¥–ª–∏–Ω—É –ø–∞–ª—å—Ü–µ–≤. –¢–∞–∫–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –¥–≤–∏–∂–µ–Ω–∏—è –∑–∞–ø—è—Å—Ç—å–µ–º –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –º–∏–∑–∏–Ω—Ü–∞. –ö—Ä–æ–º–µ —ç—Ç–æ–≥–æ, —Å–¥–≤–∏–≥ –ø–æ–º–æ–≥–∞–µ—Ç –ª–µ–≥—á–µ –Ω–∞—Ö–æ–¥–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –≤—Å–ª–µ–ø—É—é."]
      [:p "–ü–æ–ª–æ–≤–∏–Ω–∫–∏ Jian –º–æ–∂–Ω–æ —Ä–∞—Å–ø–æ–ª–æ–∂–∏—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –∑–∞–ø—è—Å—Ç—å—è –æ—Å—Ç–∞–≤–∞–ª–∏—Å—å –ø—Ä—è–º—ã–º–∏, —á—Ç–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–±–∏—Ä–∞–µ—Ç —Å –Ω–∏—Ö –Ω–∞–≥—Ä—É–∑–∫—É. –ß–µ–≥–æ –Ω–µ —Å–∫–∞–∂–µ—à—å –æ Planck."]
      [:figure
       [:img.fullwidth (res-src "images/planck.svg")]
       [:figcaption [:b "Planck:"] " –∫–ª–∞–≤–∏—à–∏ –ø–æ–¥ –º–∏–∑–∏–Ω—Ü–∞–º–∏ –Ω–∞–∂–∏–º–∞—Ç—å –Ω–µ—É–¥–æ–±–Ω–æ, –ø–æ–¥ –±–µ–∑—ã–º—è–Ω–Ω—ã–º –∏ —Å—Ä–µ–¥–Ω–∏–º –ø–∞–ª—å—Ü–µ–º ‚Äî —Å–ª–æ–∂–Ω–æ; –µ—Å—Ç—å –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –∑–∞–ø—è—Å—Ç—å—è."]]]
     [:aside
      [:small.facts-header "–ß—Ç–æ —Ç–∞–∫–æ–µ Planck?"]
      [:ul.ok-before
       [:li [:i "–ù–µ—Ç –Ω–µ–µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –º–∏–∑–∏–Ω–µ—Ü, –±–µ–∑—ã–º—è–Ω–Ω—ã–π –∏ —Å—Ä–µ–¥–Ω–∏–π –ø–∞–ª—å—Ü—ã"]]
       [:li [:i "–ö–ª–∞–≤–∏—à–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã —Å —É—á—ë—Ç–æ–º –¥–ª–∏–Ω—ã –∫–∞–∂–¥–æ–≥–æ –ø–∞–ª—å—Ü–∞"]]
       [:li [:i "–†—É–∫–∏ –º–æ–∂–Ω–æ –ø–æ–ª–æ–∂–∏—Ç—å –∫–∞–∫ –≤–∞–º –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ, —Å –ø—Ä—è–º—ã–º–∏ –∑–∞–ø—è—Å—Ç—å—è–º–∏"]]]]]
    [:figure.jian-hands
     [:figcaption [:b "Jian:"] " –º–∞–ª–æ–ø–æ–¥–≤–∏–∂–Ω—ã–µ –ø–∞–ª—å—Ü—ã —Ä–∞–∑–≥—Ä—É–∂–µ–Ω—ã; –∑–∞–ø—è—Å—Ç—å—è –∏ —Ä—É–∫–∏ –º–æ–∂–Ω–æ —Ä–∞—Å–ø–æ–ª–æ–∂–∏—Ç—å —Ç–∞–∫, –∫–∞–∫ –≤–∞–º —É–¥–æ–±–Ω–æ üéâ"]
     [:img (res-src "images/split.svg")]]
    ]
   [:div
    [:h2 "–ì–ª–∞–≤–Ω—ã–π —Å–ª–æ–π"]
    [:div.flex
     [:div
      [:p "–ù–∞ –≥–ª–∞–≤–Ω–æ–º —Å–ª–æ–µ –ø–æ–º–µ—â–∞—é—Ç—Å—è –≤—Å–µ –±—É–∫–≤–µ–Ω–Ω—ã–µ –∫–ª–∞–≤–∏—à–∏ —Ä–∞—Å–∫–ª–∞–¥–∫–∏ –ô–¶–£–ö–ï–ù, —á—Ç–æ –∏ –æ—Ç–ª–∏—á–∞–µ—Ç Jian –æ—Ç –¥—Ä—É–≥–∏—Ö –∫–ª–∞–≤–∏–∞—Ç—É—Ä –∞-–ª—è Planck."]
      [:p "–ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–Ω–æ–ø–∫–∏ " [:i "Shift"] ", "[:i "Space" ]", "[:i "Enter" ]", "[:i "Backspace" ]", "[:i "Tab" ]", "[:i "ESC" ]" –∏ "[:i "Del" ]" —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –Ω–∞ –Ω–∏–∂–Ω–µ–º —Ä—è–¥—É, –ø–æ–¥ —Ö–æ—Ä–æ—à–æ –ø–æ–¥–≤–∏–∂–Ω—ã–º–∏ –±–æ–ª—å—à–∏–º–∏ –ø–∞–ª—å—Ü–∞–º–∏."]
      [:p "–í—Å–µ –∫–ª–∞–≤–∏—à–∏ –Ω–∏–∂–Ω–µ–≥–æ —Ä—è–¥–∞ –∏–º–µ—é—Ç –¥–≤–æ–π–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ. –ò—Ö –º–æ–∂–Ω–æ –Ω–∞–∂–∏–º–∞—Ç—å –∏–ª–∏ —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å. –î–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ —É–¥–µ—Ä–∂–∞–Ω–∏–∏ –∫–ª–∞–≤–∏—à –æ—Ç–º–µ—á–µ–Ω—ã –Ω–∞ —Ä–∞—Å–∫–ª–∞–¥–∫–µ "[:span.blue "—Å–∏–Ω–∏–º —Ü–≤–µ—Ç–æ–º" ]"."]
      [:p "–ù–∞–ø—Ä–∏–º–µ—Ä, –∫–ª–∞–≤–∏—à–∞ "[:i "Space" ]" –ø—Ä–∏ —É–¥–µ—Ä–∂–∞–Ω–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ª–µ–≤—ã–π "[:i "Shift" ]", –∞ –∫–ª–∞–≤–∏—à–∞ "[:i "Backspace" ]" ‚Äî –∫–∞–∫ –ø—Ä–∞–≤—ã–π. –£–¥–µ—Ä–∂–∞–Ω–∏–µ –∑–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–∏ "[:i "–™" ]", —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ –Ω–∞–∂–∞—Ç–∏—é "[:i "Super" ]"."]
      [:p "–ë–ª–∞–≥–æ–¥–∞—Ä—è –∫–ª–∞–≤–∏—à–∞–º –¥–≤–æ–π–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Ä—É–∫–∏ –æ—Ç –±—É–∫–≤–µ–Ω–Ω—ã—Ö –∫–ª–∞–≤–∏—à, —á—Ç–æ–±—ã –Ω–∞–∂–∞—Ç—å —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ "[:i "Shift" ]", "[:i "Enter" ]" –∏–ª–∏ "[:i "Backspace" ]". –ü–æ—ç—Ç–æ–º—É –Ω–∞–±–∏—Ä–∞—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞ Jian –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º
–Ω–∞ –æ–±—ã—á–Ω–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ."]]
     [:aside
      [:p.l [:i "–ù–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ Jian –ø–æ–º–µ—â–∞—é—Ç—Å—è –≤—Å–µ –±—É–∫–≤—ã —Ä–∞—Å–∫–ª–∞–¥–∫–∏ –ô–¶–£–ö–ï–ù, –≤–∫–ª—é—á–∞—è –Å, –• –∏ –™" ]]
      [:div.to-bottom
       [:p.l. [:img (res-src "images/legend-tip.svg")] [:i "–£ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–ª–∞–≤–∏—à –¥–≤–æ–π–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ. –ò—Ö –º–æ–∂–Ω–æ –Ω–∞–∂–∞—Ç—å, –ª–∏–±–æ —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å"]]]]]
    [:h3 "–†–∞—Å–∫–ª–∞–¥–∫–∞ –ô–¶–£–ö–ï–ù"]
    [:figure.ycuken
     [:img (res-src "images/ycuken.svg")]]
    [:h3 "–†–∞—Å–∫–ª–∞–¥–∫–∞ QWERTY"]
    [:figure.qwerty
     [:img.fullwidth (res-src "images/qwerty.svg")]]]
   [:div
    [:h2 "–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏"]
    [:div.flex
     [:div
      [:p "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞–≤–∏—à–∏ Jian –Ω–∞—Ö–æ–¥—è—Ç—Å—è –Ω–∞ ¬´–≤–µ—Ä—Ö–Ω–µ–º¬ª –∏ ¬´–Ω–∏–∂–Ω–µ–º¬ª —Å–ª–æ—è—Ö. –ß—Ç–æ–±—ã –ø–æ–ø–∞—Å—Ç—å –Ω–∞ –Ω–∏–∂–Ω–∏–π —Å–ª–æ–π, –Ω—É–∂–Ω–æ –∑–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "[:b.green [:i "fn1"] ]". –ß—Ç–æ–±—ã –ø–æ–ø–∞—Å—Ç—å –Ω–∞ –≤–µ—Ä—Ö–Ω–∏–π ‚Äî –∑–∞–∂–∞—Ç—å "[:b.orange [:i "fn2"] ]"."]
      [:p "–ö–Ω–æ–ø–∫–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Å–ª–æ–µ–≤ –µ—Å—Ç—å –Ω–∞ –∫–∞–∂–¥–æ–π –ø–æ–ª–æ–≤–∏–Ω–∫–µ Jian
–∏ —Ä–∞—Å–ø–ª–æ–∂–µ–Ω—ã —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–¥–Ω–æ–π —Ä—É–∫–æ–π –Ω–∞–∂–∞—Ç—å –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º –∏–ª–∏ –Ω–∏–∂–Ω–µ–º —Å–ª–æ–µ. –ù–∞ —Ç–æ–π –∂–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ Plank –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –æ–±–µ —Ä—É–∫–∏."]]
     [:aside]]
    [:figure.layers
     [:img (res-src "images/layers.svg")]]]
   [:div
    [:h2 "–ù–∏–∂–Ω–∏–π —Å–ª–æ–π ‚Äî " [:img.icon (res-src "images/down-icon.svg")]]
    [:div.flex
     [:div
      [:p "–ù–∏–∂–Ω–∏–π —Å–ª–æ–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ –∫–ª–∞–≤–∏—à–∏ "[:b [:i"F1...F12"]]", —Ü–∏—Ñ—Ä—ã "[:b [:i"0...9"]]" –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã—á–Ω–æ –Ω–∞–±–∏—Ä–∞—é—Ç —á–µ—Ä–µ–∑ —Å–æ—á–µ—Ç–∞–Ω–∏—è —Ç–∏–ø–∞ "[:b [:i "Shift + —Ü–∏—Ñ—Ä–∞"]]"."]]
     [:aside]]
    [:h3 "–†–∞—Å–∫–ª–∞–¥–∫–∞ –ô–¶–£–ö–ï–ù"]
    [:figure.ycuken
     [:img (res-src "images/down-layer-ycuken.svg")]]
    [:h3 "–†–∞—Å–∫–ª–∞–¥–∫–∞ QWERTY"]
    [:figure.qwerty
     [:img.fullwidth (res-src "images/down-layer-qwerty.svg")]]
    ]
   [:div
    [:h2 "–í–µ—Ä—Ö–Ω–∏–π —Å–ª–æ–π ‚Äî " [:img.icon (res-src "images/up-icon.svg")]]
    [:div.flex
     [:div
      [:p "–ù–∞ –≤–µ—Ä—Ö–Ω–µ–º —Å–ª–æ–µ –ª–µ–≤–∞—è –ø–æ–ª–æ–≤–∏–Ω–∫–∞ Jian –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ "[:b [:i"Numpad"]]". –ü—Ä–∞–≤–∞—è –ø–æ–ª–æ–≤–∏–Ω–∫–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ ¬´"[:b [:i"—Å—Ç—Ä–µ–ª–∫–∏"]]"¬ª, –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä–æ–º–∫–æ—Å—Ç—å—é –∏ –∫–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –ø–æ —Ç–µ–∫—Å—Ç—É."]
      [:p "–ù–∏–∂–Ω–∏–π —Å–ª–æ–π –æ–¥–∏–Ω–∞–∫–æ–≤ –¥–ª—è —Ä–∞—Å–∫–ª–∞–¥–æ–∫ –ô–¶–£–ö–ï–ù –∏ QWERTY."]]
     [:aside]]
    [:figure.layers
     [:img (res-src "images/up-layer.svg")]]]
   [:div
    [:h2 "–°–ª–æ–π –Ω–∞—Å—Ç—Ä–æ–µ–∫"]
    [:div.flex
     [:div
      [:p "–°–ª–æ–π –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º —É–¥–µ—Ä–∂–∏–≤–∞–Ω–∏–∏ –∫–ª–∞–≤–∏—à " [:img.icon (res-src "images/down-icon.svg")] " –∏ " [:img.icon (res-src "images/up-icon.svg")] ". –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –∑–µ—Ä–∫–∞–ª—å–Ω–æ –Ω–∞ –æ–±–µ–∏—Ö –ø–æ–ª–æ–≤–∏–Ω–∫–∞—Ö Jian, —á—Ç–æ–±—ã –∏–º–∏ –º–æ–∂–Ω–æ –±—ã–ª–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–∞–∂–µ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –ª–∏—à—å –æ–¥–Ω–∞ —á–∞—Å—Ç—å."]]
     [:aside]]
    [:figure.layers
     [:img (res-src "images/settings-layer.svg")]]]])

(defn ^:export mount [resources-path]
  (when resources-path
    (swap! app-state assoc :resources-path resources-path))
  (rd/render [page] (.getElementById js/document "app")))

(defn ^:after-load re-render []
  (mount (:resources-path @app-state)))
